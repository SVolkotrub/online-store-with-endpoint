{"ast":null,"code":"import { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { showTotalPrice } from \"../store/cart\";\n\nclass ShowTotalPrice extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      total: 0\n    };\n  }\n\n  render() {\n    let total = this.props.cartProducts.map(product => {\n      return total = product.prices.filter(el => el.currency.symbol === this.props.currency).reduce((total, item) => total + item.amount * product.productQuantity, 0);\n    });\n    this.setState({\n      total: total\n    });\n    this.props.dispatch(showTotalPrice(total));\n    return this.state.total;\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    currency: state.currency.currency,\n    cartProducts: state.cart.products,\n    cartQuantity: state.cart.quantity,\n    cartTotal: state.cart.total\n  };\n}\n\nexport default connect(mapStateToProps)(ShowTotalPrice);","map":{"version":3,"names":["PureComponent","connect","showTotalPrice","ShowTotalPrice","constructor","props","state","total","render","cartProducts","map","product","prices","filter","el","currency","symbol","reduce","item","amount","productQuantity","setState","dispatch","mapStateToProps","cart","products","cartQuantity","quantity","cartTotal"],"sources":["H:/Svetik/qa-testing/Scandiweb/volkotrub-shop-project/src/other-components-and-functions/ShowTotalPrice.js"],"sourcesContent":["import { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { showTotalPrice } from \"../store/cart\";\r\n\r\nclass ShowTotalPrice extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { total:0 };\r\n    }\r\n   \r\n    render() {\r\n        let total = this.props.cartProducts.map((product) => {\r\n            return total = product.prices.filter(el => el.currency.symbol === this.props.currency).reduce((total, item) => total + (item.amount * product.productQuantity), 0)\r\n        });\r\n        this.setState({ total: total });\r\n        this.props.dispatch(showTotalPrice(total));\r\n        return this.state.total;\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currency: state.currency.currency,\r\n        cartProducts: state.cart.products,\r\n        cartQuantity: state.cart.quantity,\r\n        cartTotal: state.cart.total,\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(ShowTotalPrice);"],"mappings":"AAAA,SAASA,aAAT,QAA8B,OAA9B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,cAAT,QAA+B,eAA/B;;AAEA,MAAMC,cAAN,SAA6BH,aAA7B,CAA2C;EACvCI,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MAAEC,KAAK,EAAC;IAAR,CAAb;EACH;;EAEDC,MAAM,GAAG;IACL,IAAID,KAAK,GAAG,KAAKF,KAAL,CAAWI,YAAX,CAAwBC,GAAxB,CAA6BC,OAAD,IAAa;MACjD,OAAOJ,KAAK,GAAGI,OAAO,CAACC,MAAR,CAAeC,MAAf,CAAsBC,EAAE,IAAIA,EAAE,CAACC,QAAH,CAAYC,MAAZ,KAAuB,KAAKX,KAAL,CAAWU,QAA9D,EAAwEE,MAAxE,CAA+E,CAACV,KAAD,EAAQW,IAAR,KAAiBX,KAAK,GAAIW,IAAI,CAACC,MAAL,GAAcR,OAAO,CAACS,eAA/H,EAAiJ,CAAjJ,CAAf;IACH,CAFW,CAAZ;IAGA,KAAKC,QAAL,CAAc;MAAEd,KAAK,EAAEA;IAAT,CAAd;IACA,KAAKF,KAAL,CAAWiB,QAAX,CAAoBpB,cAAc,CAACK,KAAD,CAAlC;IACA,OAAO,KAAKD,KAAL,CAAWC,KAAlB;EACH;;AAbsC;;AAe3C,SAASgB,eAAT,CAAyBjB,KAAzB,EAAgC;EAC5B,OAAO;IACHS,QAAQ,EAAET,KAAK,CAACS,QAAN,CAAeA,QADtB;IAEHN,YAAY,EAAEH,KAAK,CAACkB,IAAN,CAAWC,QAFtB;IAGHC,YAAY,EAAEpB,KAAK,CAACkB,IAAN,CAAWG,QAHtB;IAIHC,SAAS,EAAEtB,KAAK,CAACkB,IAAN,CAAWjB;EAJnB,CAAP;AAMH;;AACD,eAAeN,OAAO,CAACsB,eAAD,CAAP,CAAyBpB,cAAzB,CAAf"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{PureComponent}from\"react\";import{connect}from'react-redux';import plus from\"../images/plus-square.png\";import minus from\"../images/minus-square.png\";import{changeProductQuantity,decreaseProductQuantity,deleteProduct}from\"../store/cart\";import\"./Cart.css\";import\"./ProductPage.css\";import Slider from\"../other-components-and-functions/Slider\";import ShowAttributesInCart from\"../other-components-and-functions/ShowAttributesInCart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Cart=/*#__PURE__*/function(_PureComponent){_inherits(Cart,_PureComponent);var _super=_createSuper(Cart);function Cart(props){var _this;_classCallCheck(this,Cart);_this=_super.call(this,props);_this.state={};_this.getCurrentPrice=_this.getCurrentPrice.bind(_assertThisInitialized(_this));_this.decreaseDeleteProduct=_this.decreaseDeleteProduct.bind(_assertThisInitialized(_this));_this.getTotalPrice=_this.getTotalPrice.bind(_assertThisInitialized(_this));return _this;}_createClass(Cart,[{key:\"getCurrentPrice\",value:function getCurrentPrice(props){var _this2=this;var current;props.map(function(item){if(item.currency.symbol===_this2.props.currency){current=item.amount;return current;}else{return null;}});return current;}},{key:\"getTotalPrice\",value:function getTotalPrice(){var _this3=this;var total=0;this.props.cartProducts.map(function(product){return total=product.prices.filter(function(el){return el.currency.symbol===_this3.props.currency;}).reduce(function(total,item){return total+item.amount*product.productQuantity;},total);});return total;}},{key:\"decreaseDeleteProduct\",value:function decreaseDeleteProduct(index){this.props.cartProducts[index].productQuantity>1?this.props.dispatch(decreaseProductQuantity(index)):this.props.dispatch(deleteProduct(index));}},{key:\"render\",value:function render(){var _this4=this;if(this.props.cartQuantity!==0){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-header\",children:\"CART\"}),this.props.cartProducts.map(function(product,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-product-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"part-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-brand\",children:product.brand},\"\".concat(product.brand,\"_\").concat(index)),/*#__PURE__*/_jsx(\"div\",{className:\"cart-name\",children:product.name},\"\".concat(product.name,\"_\").concat(index)),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-price\",children:[_this4.props.currency,_this4.getCurrentPrice(product.prices)]},\"price_\".concat(index)),/*#__PURE__*/_jsx(ShowAttributesInCart,{view:\"cart\",product:product,productIndex:index},\"attr element\".concat(index))]},\"\".concat(index,\" product part 1\")),/*#__PURE__*/_jsxs(\"div\",{className:\"part-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"btn-image\",src:plus,alt:\"logo\",onClick:function onClick(){return _this4.props.dispatch(changeProductQuantity(index));}},\"\".concat(index,\" plus img\")),/*#__PURE__*/_jsx(\"p\",{className:\"counter\",children:product.productQuantity},\"\".concat(index,\" counter\")),/*#__PURE__*/_jsx(\"img\",{className:\"btn-image\",src:minus,alt:\"logo\",onClick:function onClick(){return _this4.decreaseDeleteProduct(index);}},\"\".concat(index,\" minus-img\"))]},\"\".concat(index,\" wrapper\")),/*#__PURE__*/_jsx(\"div\",{className:\"slider-container\",children:/*#__PURE__*/_jsx(Slider,{data:product.gallery,productIndex:index},\"\".concat(index,\" slider\"))},\"\".concat(index,\" slider container\"))]},\"\".concat(index,\" product part 2\"))]},\"\".concat(index,\" product\"));}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-description\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-column-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"order-text\",children:\"Tax 21%:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"order-text\",children:\"Quantity:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"order-text\",children:\"Total:\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-column-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"order-quantity\",children:[this.props.currency,Math.round(this.getTotalPrice()*0.21)]}),/*#__PURE__*/_jsx(\"p\",{className:\"order-quantity\",children:this.props.cartQuantity}),/*#__PURE__*/_jsxs(\"p\",{className:\"order-quantity\",children:[this.props.currency,this.getTotalPrice().toFixed(2)]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"order-btn\",children:/*#__PURE__*/_jsx(\"p\",{children:\" order\"})})]});}else{return/*#__PURE__*/_jsx(\"p\",{children:\"Your cart is empty...\"});}}}]);return Cart;}(PureComponent);function mapStateToProps(state){return{currency:state.currency.currency,cartProducts:state.cart.products,cartQuantity:state.cart.quantity};}export default connect(mapStateToProps)(Cart);","map":{"version":3,"names":["PureComponent","connect","plus","minus","changeProductQuantity","decreaseProductQuantity","deleteProduct","Slider","ShowAttributesInCart","Cart","props","state","getCurrentPrice","bind","decreaseDeleteProduct","getTotalPrice","current","map","item","currency","symbol","amount","total","cartProducts","product","prices","filter","el","reduce","productQuantity","index","dispatch","cartQuantity","brand","name","gallery","Math","round","toFixed","mapStateToProps","cart","products","quantity"],"sources":["H:/Svetik/qa-testing/online-store-with-endpoint/online-store/src/pages/Cart.js"],"sourcesContent":["import { PureComponent } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport plus from \"../images/plus-square.png\";\r\nimport minus from \"../images/minus-square.png\";\r\nimport { changeProductQuantity, decreaseProductQuantity, deleteProduct } from \"../store/cart\";\r\nimport \"./Cart.css\";\r\nimport \"./ProductPage.css\";\r\nimport Slider from \"../other-components-and-functions/Slider\";\r\nimport ShowAttributesInCart from \"../other-components-and-functions/ShowAttributesInCart\";\r\n\r\n\r\nclass Cart extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {  \r\n           \r\n        };\r\n        this.getCurrentPrice = this.getCurrentPrice.bind(this);\r\n        this.decreaseDeleteProduct = this.decreaseDeleteProduct.bind(this);\r\n        this.getTotalPrice = this.getTotalPrice.bind(this);\r\n    }\r\n    getCurrentPrice(props) { \r\n        let current;\r\n        props.map((item) => {\r\n            if (item.currency.symbol === this.props.currency) {\r\n                current = item.amount;\r\n                return current;\r\n            } else { return null; }\r\n        })\r\n        return current;\r\n    }\r\n    getTotalPrice() {\r\n        let total = 0;\r\n        this.props.cartProducts.map((product) => {\r\n            return total = product.prices.filter(el => el.currency.symbol === this.props.currency).reduce((total, item) => total + (item.amount * product.productQuantity), total)\r\n        });\r\n        return total;\r\n    }\r\n    decreaseDeleteProduct(index) {\r\n        this.props.cartProducts[index].productQuantity > 1 ? this.props.dispatch(decreaseProductQuantity(index)) : this.props.dispatch(deleteProduct(index));\r\n    }\r\n    render() {\r\n        if(this.props.cartQuantity !== 0)\r\n        {\r\n            return (\r\n            <>\r\n            <div className=\"cart-header\">CART</div>          \r\n                {this.props.cartProducts.map((product, index) => {\r\n                return (\r\n                    <div className=\"cart-product-block\" key={`${index} product`}>\r\n                        <div className=\"part-1\" key={`${index} product part 1`}>\r\n                            <div className=\"cart-brand\" key={`${product.brand}_${index}`}>{product.brand }</div>\r\n                            <div className=\"cart-name\" key={`${product.name}_${index}`}>{product.name}</div>\r\n                            <div className=\"cart-price\" key={`price_${index}`}>{ this.props.currency}{this.getCurrentPrice(product.prices)}</div>\r\n                            \r\n                            <ShowAttributesInCart view=\"cart\" key={`attr element${index}`} product={ product} productIndex={index} />\r\n                        </div>\r\n                        <div className=\"part-2\" key={`${index} product part 2`}>\r\n                            <div className=\"btn-wrapper\" key={`${index} wrapper`}>\r\n                                <img className=\"btn-image\" src={plus} alt=\"logo\" key={`${index} plus img`} onClick={()=>this.props.dispatch(changeProductQuantity(index))} />\r\n                                <p className=\"counter\" key={`${index} counter`}>{ product.productQuantity}</p>\r\n                                <img className=\"btn-image\" src={minus} alt=\"logo\" key={`${index} minus-img`} onClick={()=>this.decreaseDeleteProduct(index)} /> \r\n                            </div>\r\n                             <div className=\"slider-container\"key={`${index} slider container`} >\r\n                                <Slider data={product.gallery} productIndex={index} key={`${index} slider`} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                        )\r\n                })}\r\n                <div className=\"order-description\">\r\n                    <div className=\"order-column-1\">\r\n                        <p className=\"order-text\">Tax 21%:</p>\r\n                        <p className=\"order-text\">Quantity:</p>\r\n                        <p className=\"order-text\">Total:</p>\r\n                    </div>\r\n                    <div className=\"order-column-2\">\r\n                     <p className=\"order-quantity\">{ this.props.currency}{Math.round(this.getTotalPrice() * 0.21)}</p>\r\n                            <p className=\"order-quantity\">{ this.props.cartQuantity}</p>\r\n                            <p className=\"order-quantity\">{this.props.currency}{ this.getTotalPrice().toFixed(2)}</p>\r\n                    </div>\r\n                </div>\r\n                <button type=\"submit\" className=\"order-btn\"><p> order</p></button>\r\n                    \r\n            </>\r\n            )\r\n        } else {\r\n           return  <p>Your cart is empty...</p>\r\n        }\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currency: state.currency.currency,\r\n        cartProducts: state.cart.products,\r\n        cartQuantity: state.cart.quantity,\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(Cart);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
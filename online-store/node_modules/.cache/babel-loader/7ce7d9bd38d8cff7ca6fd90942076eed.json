{"ast":null,"code":"import _classCallCheck from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _taggedTemplateLiteral from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import{PureComponent}from\"react\";import{connect}from'react-redux';import{updateAttributeIndex}from\"../store/cart\";import styled from\"styled-components\";import\"../components/MiniCart.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FilterColor=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nwidth: \",\";\\nheight: \",\";\\ncursor: pointer;\\n\",\";\\n\",\";\\n\"])),function(props){return props.view===\"cart\"?\"32px\":\"16px\";},function(props){return props.view===\"cart\"?\"32px\":\"16px\";},function(props){return props.color==='#FFFFFF'?\"background-color: \".concat(props.color,\"; outline-offset: -1px; outline: 1px solid black\"):\"background-color: \".concat(props.color);},function(props){return props.selected?\"outline-offset: 1px; outline: 1px solid #5ECE7B\":\"none\";});var TextItem=styled.p(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nmargin-top: \",\";\\n\"])),function(props){return props.view===\"cart\"?\"13px\":\"0px\";});var ShowAttributesInCart=/*#__PURE__*/function(_PureComponent){_inherits(ShowAttributesInCart,_PureComponent);var _super=_createSuper(ShowAttributesInCart);function ShowAttributesInCart(props){var _this;_classCallCheck(this,ShowAttributesInCart);_this=_super.call(this,props);_this.state={selectedAttributes:_this.props.product.selectedAttributes,productIndex:_this.props.productIndex,attributeStyle:_this.props.view===\"cart\"?[\"attribute-item-selected\",\"attribute-item\"]:[\"minicart-attribute-item-selected\",\"minicart-attribute-item\"]};_this.colorSelect=_this.colorSelect.bind(_assertThisInitialized(_this));_this.updateAttribute=_this.updateAttribute.bind(_assertThisInitialized(_this));return _this;}_createClass(ShowAttributesInCart,[{key:\"colorSelect\",value:function colorSelect(indexAttribute,index){if(this.props.cartProducts[this.state.productIndex].selectedAttributes[indexAttribute][1]===index){return true;}else{return false;}}},{key:\"updateAttribute\",value:function updateAttribute(indexAttribute,index){var temp={productIndex:this.props.productIndex,indexAttribute:indexAttribute,index:index};this.props.dispatch(updateAttributeIndex(temp));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(props,state){if(JSON.stringify(this.state.selectedAttributes)!==JSON.stringify(this.props.cartProducts[this.state.productIndex].selectedAttributes)){this.setState({selectedAttributes:this.props.cartProducts[this.state.productIndex].selectedAttributes});}}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,productIndex=_this$state.productIndex,attributeStyle=_this$state.attributeStyle;return/*#__PURE__*/_jsx(_Fragment,{children:this.props.cartProducts[productIndex].attributes.map(function(obj,indexAttribute){if(obj.type!==\"swatch\"){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:_this2.props.view===\"cart\"?\"attribute-name\":\"minicart-attribute-name\",children:[obj.name,\":\"]},\"\".concat(indexAttribute,\"_\").concat(obj.name,\" cart\")),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-container\",children:obj.items.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:_this2.props.cartProducts[productIndex].selectedAttributes[indexAttribute][1]===index?attributeStyle[0]:attributeStyle[1],onClick:function onClick(){_this2.updateAttribute(indexAttribute,index);},children:[\" \",/*#__PURE__*/_jsx(TextItem,{view:_this2.props.view,children:item.value}),\" \"]},\"\".concat(index,\"_\").concat(item,\" cart\"));})},\"itemContainer_\".concat(indexAttribute))]},Math.random());}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:_this2.props.view===\"cart\"?\"attribute-name\":\"minicart-attribute-name\",children:[obj.name,\":\"]},indexAttribute),/*#__PURE__*/_jsx(\"div\",{className:\"cart-attribute-color-container\",children:obj.items.map(function(item,index){return/*#__PURE__*/_jsx(FilterColor,{view:_this2.props.view===\"cart\"?\"cart\":\"minicart\",color:item.value,selected:_this2.colorSelect(indexAttribute,index),onClick:function onClick(){_this2.updateAttribute(indexAttribute,index);}},index);})},\"colorContainer_\".concat(indexAttribute))]},Math.random());}})});// return null;\n}}]);return ShowAttributesInCart;}(PureComponent);function mapStateToProps(state){return{currency:state.currency.currency,cartProducts:state.cart.products,cartQuantity:state.cart.quantity};}export default connect(mapStateToProps)(ShowAttributesInCart);","map":{"version":3,"names":["PureComponent","connect","updateAttributeIndex","styled","FilterColor","div","props","view","color","selected","TextItem","p","ShowAttributesInCart","state","selectedAttributes","product","productIndex","attributeStyle","colorSelect","bind","updateAttribute","indexAttribute","index","cartProducts","temp","dispatch","JSON","stringify","setState","attributes","map","obj","type","name","items","item","value","Math","random","mapStateToProps","currency","cart","products","cartQuantity","quantity"],"sources":["H:/Svetik/qa-testing/online-store-with-endpoint/online-store/src/other-components-and-functions/ShowAttributesInCart.js"],"sourcesContent":["import { PureComponent } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { updateAttributeIndex } from \"../store/cart\";\r\nimport styled from \"styled-components\";\r\nimport \"../components/MiniCart.css\";\r\n\r\nconst FilterColor = styled.div`\r\nwidth: ${props => props.view === \"cart\" ? `32px` : `16px`};\r\nheight: ${props => props.view === \"cart\" ? `32px` : `16px`};\r\ncursor: pointer;\r\n${props => props.color === '#FFFFFF' ? `background-color: ${props.color}; outline-offset: -1px; outline: 1px solid black` : `background-color: ${props.color}`  };\r\n${props => props.selected ? `outline-offset: 1px; outline: 1px solid #5ECE7B` : `none`};\r\n`; \r\nconst TextItem = styled.p`\r\nmargin-top: ${props => props.view === \"cart\" ? `13px` : `0px`};\r\n`;\r\nclass ShowAttributesInCart extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {  \r\n            selectedAttributes: this.props.product.selectedAttributes,\r\n            productIndex: this.props.productIndex,\r\n            attributeStyle: this.props.view === \"cart\" ? [\"attribute-item-selected\", \"attribute-item\"] : [\"minicart-attribute-item-selected\", \"minicart-attribute-item\"],\r\n           };\r\n        this.colorSelect = this.colorSelect.bind(this);\r\n        this.updateAttribute = this.updateAttribute.bind(this);\r\n        \r\n    }\r\n     colorSelect(indexAttribute, index) {\r\n         if (this.props.cartProducts[this.state.productIndex].selectedAttributes[indexAttribute][1] === index) { \r\n            return true;\r\n        } else { return false; }\r\n    }\r\n    updateAttribute(indexAttribute, index) {\r\n        const temp = {productIndex: this.props.productIndex, indexAttribute, index}\r\n        this.props.dispatch(updateAttributeIndex(temp));\r\n    }\r\n    componentDidUpdate(props, state) {\r\n     if (JSON.stringify(this.state.selectedAttributes) !== JSON.stringify(this.props.cartProducts[this.state.productIndex].selectedAttributes)) {\r\n        this.setState({ selectedAttributes: this.props.cartProducts[this.state.productIndex].selectedAttributes });\r\n    }\r\n  }\r\n    render() {\r\n        \r\n        const {  productIndex, attributeStyle} = this.state;\r\n            return (\r\n            <>\r\n                 {this.props.cartProducts[productIndex].attributes.map((obj, indexAttribute) => {\r\n                     if (obj.type !== \"swatch\") {\r\n                        return (\r\n                            <div key={ Math.random()}>\r\n                                <p key={`${indexAttribute}_${obj.name} cart`} className= {this.props.view === \"cart\" ? \"attribute-name\" : \"minicart-attribute-name\"}>{obj.name}:</p>\r\n                                <div key={`itemContainer_${indexAttribute}`} className=\"cart-item-container\" >\r\n                                    {obj.items.map((item, index) => {\r\n                                        return (\r\n                                            <div key={`${index}_${item} cart`} className={ this.props.cartProducts[productIndex].selectedAttributes[indexAttribute][1] === index ? attributeStyle[0] : attributeStyle[1] }\r\n                                                onClick={() => {this.updateAttribute(indexAttribute, index)  }}> <TextItem view={this.props.view}>{item.value}</TextItem> </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    } else {\r\n                        return (\r\n                            <div key={Math.random()}>\r\n                                <p key={indexAttribute} className={this.props.view === \"cart\"? \"attribute-name\" : \"minicart-attribute-name\"}>{obj.name}:</p>\r\n                                <div key={`colorContainer_${indexAttribute}`} className=\"cart-attribute-color-container\">\r\n                                    {obj.items.map((item, index) => {\r\n                                        return (\r\n                                            <FilterColor view={this.props.view === \"cart\" ? \"cart\" : \"minicart\" } key={index} color={item.value} selected={this.colorSelect(indexAttribute,index)} onClick={() => { this.updateAttribute(indexAttribute, index) }} />\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                })\r\n                }\r\n            </>\r\n            )\r\n        // return null;\r\n        \r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currency: state.currency.currency,\r\n        cartProducts: state.cart.products,\r\n        cartQuantity: state.cart.quantity,\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(ShowAttributesInCart);"],"mappings":"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"},"metadata":{},"sourceType":"module"}
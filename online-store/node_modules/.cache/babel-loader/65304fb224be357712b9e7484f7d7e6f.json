{"ast":null,"code":"var _jsxFileName = \"H:\\\\Svetik\\\\qa-testing\\\\Scandiweb\\\\volkotrub-shop-project\\\\src\\\\pages\\\\ProductPage.js\";\nimport { PureComponent } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Interweave } from 'interweave';\nimport getProductById from \"../other-components-and-functions/getProductById\";\nimport styled from \"styled-components\";\nimport { connect } from 'react-redux';\nimport \"./ProductPage.css\";\nimport { addProductToCart, changeProductQuantity } from \"../store/cart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TextOutOfStock = styled.div`\n    text-transform: uppercase;\n    position: absolute;\n    left: 25.42%;\n    right: 25.71%;\n    top: 200px;\n    display:  block;\n    font-weight: 400;\n    font-size: 36px;\n    line-height: 160%;\n    color: #8D8F9A;\n`;\n_c = TextOutOfStock;\nconst FilterColor = styled.div`\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n    ${props => props.color === '#FFFFFF' ? `background-color: ${props.color}; outline-offset: -1px; outline: 1px solid black` : `background-color: ${props.color}`};\n    ${props => props.selected ? `outline-offset: 1px; outline: 1px solid #5ECE7B` : `none`};\n    \n`;\n_c2 = FilterColor;\n\nfunction withParams(Component) {\n  var _s = $RefreshSig$();\n\n  return _s(props => {\n    _s();\n\n    return /*#__PURE__*/_jsxDEV(Component, { ...props,\n      params: useParams()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 18\n    }, this);\n  }, \"zmUErVVHtqqM6DIDQ9M8H17P2nM=\", false, function () {\n    return [useParams];\n  });\n}\n\nclass ProductPage extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.addToCart = product => {\n      const keysState = Object.entries(this.state);\n      const attributeNames = this.state.attributes.map(obj => {\n        return obj.name;\n      });\n      const selectedAttributes = [];\n\n      for (let i = 0; i < attributeNames.length; i++) {\n        for (let j = 0; j < keysState.length; j++) {\n          if (attributeNames[i] === keysState[j][0]) {\n            const temp = this.state[attributeNames[i]];\n            selectedAttributes.push([attributeNames[i], temp]);\n          }\n        }\n      }\n\n      let price = this.state.amount;\n      let duplicates = 0;\n\n      if (this.props.cartProducts.length !== 0) {\n        for (let i = 0; i < this.props.cartProducts.length; i++) {\n          if (product.id === this.props.cartProducts[i].id && JSON.stringify(this.props.cartProducts[i].selectedAttributes) === JSON.stringify(selectedAttributes)) {\n            duplicates = 1;\n            this.props.dispatch(changeProductQuantity(i));\n            break;\n          }\n        }\n      }\n\n      if (duplicates === 0) {\n        this.props.dispatch(addProductToCart({ ...product,\n          selectedAttributes,\n          productQuantity: 1,\n          price\n        }));\n      }\n    };\n\n    this.state = {\n      product: [],\n      loading: false,\n      error: null,\n      currency: this.props.currency,\n      prices: [],\n      gallery: [],\n      attributes: [],\n      amount: null,\n      toggleImage: 0,\n      colorFlag: false,\n      selectedColor: 0\n    };\n    this.getPrice = this.getPrice.bind(this);\n    this.colorSelect = this.colorSelect.bind(this);\n    this.addToCart = this.addToCart.bind(this);\n  }\n\n  getPrice() {\n    this.state.prices.map(item => {\n      if (item.currency.symbol === this.props.currency) {\n        return this.setState({\n          amount: item.amount\n        });\n      } else {\n        return null;\n      }\n    });\n  }\n\n  async fetchData(props) {\n    let productRequest = await getProductById(this.props.params);\n    this.setState({\n      prices: productRequest.prices\n    });\n    this.getPrice();\n    return this.setState({\n      product: productRequest,\n      gallery: productRequest.gallery,\n      attributes: productRequest.attributes,\n      loading: false\n    });\n  }\n\n  componentDidMount() {\n    let {\n      id\n    } = this.props.params;\n    console.log(id);\n    this.setState({\n      loading: true\n    });\n    this.fetchData(id);\n  }\n\n  componentDidUpdate(props, state) {\n    if (this.state.currency !== this.props.currency) {\n      this.setState({\n        currency: this.props.currency\n      });\n      this.getPrice();\n    }\n  }\n\n  colorSelect(attributeNameIndex, index) {\n    if (this.state.selectedColor === index) {\n      this.setState({\n        [attributeNameIndex]: index\n      });\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  render() {\n    const {\n      product,\n      loading,\n      error,\n      amount,\n      gallery,\n      toggleImage,\n      attributes\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Something went wrong\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading ...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (product !== null && amount !== null) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"small-image-wrapper\",\n          children: gallery.map((img, index) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"small-image-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"small-image\",\n                src: img,\n                alt: \"prod\",\n                onClick: () => {\n                  this.setState({\n                    toggleImage: index\n                  });\n                }\n              }, `img_${index}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }, this), \" \"]\n            }, `container_${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 36\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"big-image-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"big-image\",\n            src: gallery[toggleImage],\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), !product.inStock && /*#__PURE__*/_jsxDEV(TextOutOfStock, {\n            children: \"Out of Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"brand\",\n            children: product.brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"name\",\n            children: [product.name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this), attributes.map((obj, indexAttribute) => {\n            let attributeNameIndex = obj.name;\n            let temp = this.state[attributeNameIndex];\n            console.log(temp); // this.setState({  [attributeNameIndex]: temp});\n            //  this.setState({  [attributeNameIndex]: this.state[attributeNameIndex]});\n            // if(this.state[attributeNameIndex] === undefined) {this.setState({ [attributeNameIndex]: 0})}\n            // let temp = this.state[attributeNameIndex];\n\n            temp === undefined ? this.setState({\n              [attributeNameIndex]: 0\n            }) : this.setState({\n              [attributeNameIndex]: temp\n            });\n\n            if (obj.type !== \"swatch\") {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"attribute-name\",\n                  children: [obj.name, \":\"]\n                }, `${indexAttribute}_${obj.name}`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"attribute-item-container\",\n                  children: obj.items.map((item, index) => {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: this.state[attributeNameIndex] === index ? \"attribute-item-selected\" : \"attribute-item\",\n                      onClick: () => {\n                        this.setState({\n                          [attributeNameIndex]: index\n                        });\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: item.value\n                      }, `${index}*100`, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 159,\n                        columnNumber: 57\n                      }, this)\n                    }, `${index}_attribute${item} `, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 53\n                    }, this);\n                  })\n                }, `itemContainer_${indexAttribute}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 41\n                }, this)]\n              }, `swatch_ ${indexAttribute}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 37\n              }, this);\n            } else {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"attribute-name\",\n                  children: [obj.name, \":\"]\n                }, `${indexAttribute}_color`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"attribute-color-container\",\n                  children: obj.items.map((item, index) => {\n                    return /*#__PURE__*/_jsxDEV(FilterColor, {\n                      color: item.value,\n                      selected: this.colorSelect(attributeNameIndex, index),\n                      onClick: () => {\n                        this.setState({\n                          selectedColor: index\n                        });\n                      }\n                    }, `index color ${index}`, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 172,\n                      columnNumber: 53\n                    }, this);\n                  })\n                }, `colorContainer_${indexAttribute}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 41\n                }, this)]\n              }, indexAttribute, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 33\n              }, this);\n            }\n          }), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"attribute-name\",\n            children: \"Price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"price\",\n            children: [this.props.currency, \" \", amount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this), product.inStock && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button-style\",\n            onClick: () => this.addToCart(product),\n            children: \"Add to cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 46\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"description\",\n            children: /*#__PURE__*/_jsxDEV(Interweave, {\n              content: product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this);\n    } else {\n      return \"Loading...\";\n    }\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    currency: state.currency.currency,\n    cartProducts: state.cart.products\n  };\n}\n\n;\nexport default connect(mapStateToProps)(withParams(ProductPage));\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TextOutOfStock\");\n$RefreshReg$(_c2, \"FilterColor\");","map":{"version":3,"names":["PureComponent","useParams","Interweave","getProductById","styled","connect","addProductToCart","changeProductQuantity","TextOutOfStock","div","FilterColor","props","color","selected","withParams","Component","ProductPage","constructor","addToCart","product","keysState","Object","entries","state","attributeNames","attributes","map","obj","name","selectedAttributes","i","length","j","temp","push","price","amount","duplicates","cartProducts","id","JSON","stringify","dispatch","productQuantity","loading","error","currency","prices","gallery","toggleImage","colorFlag","selectedColor","getPrice","bind","colorSelect","item","symbol","setState","fetchData","productRequest","params","componentDidMount","console","log","componentDidUpdate","attributeNameIndex","index","render","img","inStock","brand","indexAttribute","undefined","type","items","value","description","mapStateToProps","cart","products"],"sources":["H:/Svetik/qa-testing/Scandiweb/volkotrub-shop-project/src/pages/ProductPage.js"],"sourcesContent":["\r\nimport { PureComponent } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Interweave } from 'interweave';\r\nimport getProductById from \"../other-components-and-functions/getProductById\";\r\nimport styled from \"styled-components\";\r\nimport { connect } from 'react-redux';\r\nimport \"./ProductPage.css\";\r\nimport { addProductToCart,changeProductQuantity } from \"../store/cart\";\r\n\r\nconst TextOutOfStock = styled.div`\r\n    text-transform: uppercase;\r\n    position: absolute;\r\n    left: 25.42%;\r\n    right: 25.71%;\r\n    top: 200px;\r\n    display:  block;\r\n    font-weight: 400;\r\n    font-size: 36px;\r\n    line-height: 160%;\r\n    color: #8D8F9A;\r\n`;\r\n\r\nconst FilterColor = styled.div`\r\n    width: 32px;\r\n    height: 32px;\r\n    cursor: pointer;\r\n    ${props => props.color === '#FFFFFF' ? `background-color: ${props.color}; outline-offset: -1px; outline: 1px solid black` : `background-color: ${props.color}`  };\r\n    ${props => props.selected ? `outline-offset: 1px; outline: 1px solid #5ECE7B` : `none`};\r\n    \r\n`;\r\n\r\nfunction withParams(Component) {\r\n return props => <Component {...props} params={useParams()} />;\r\n}\r\n\r\nclass ProductPage extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            product: [],\r\n            loading: false,\r\n            error: null,\r\n            currency: this.props.currency,\r\n            prices: [],\r\n            gallery: [],\r\n            attributes: [],\r\n            amount: null,\r\n            toggleImage: 0,\r\n            colorFlag: false,\r\n            selectedColor: 0, \r\n        };\r\n        this.getPrice = this.getPrice.bind(this);\r\n        this.colorSelect = this.colorSelect.bind(this);\r\n        this.addToCart = this.addToCart.bind(this);\r\n    } \r\n    getPrice() { \r\n        this.state.prices.map((item) => {\r\n            if (item.currency.symbol === this.props.currency) {\r\n                return this.setState({ amount: item.amount});\r\n            } else { return null; }\r\n        })\r\n    }\r\n    async fetchData(props) {\r\n        let productRequest = await getProductById(this.props.params);\r\n        this.setState({ prices: productRequest.prices });\r\n        this.getPrice();\r\n        return  this.setState({ product: productRequest, gallery: productRequest.gallery, attributes: productRequest.attributes, loading: false });\r\n    }\r\n    componentDidMount() {\r\n        let { id } = this.props.params;\r\n        console.log(id);\r\n        this.setState({ loading: true });\r\n        this.fetchData(id);\r\n    }\r\n    componentDidUpdate(props, state) {\r\n     if (this.state.currency !== this.props.currency) {\r\n        this.setState({ currency: this.props.currency });\r\n        this.getPrice();\r\n    }\r\n  }\r\n    colorSelect(attributeNameIndex, index) {\r\n        if (this.state.selectedColor === index) {\r\n            this.setState({ [attributeNameIndex]: index })\r\n            return true;\r\n        } else { return false; }\r\n    }\r\n    addToCart = (product) => {\r\n        const keysState = Object.entries(this.state);\r\n        const attributeNames = this.state.attributes.map((obj) => { return obj.name });\r\n        const selectedAttributes = [];\r\n        for (let i = 0; i < attributeNames.length; i++){\r\n            for (let j = 0; j < keysState.length; j++){\r\n                if (attributeNames[i] === keysState[j][0]) {\r\n                    const temp = this.state[attributeNames[i]];\r\n                    selectedAttributes.push([attributeNames[i], temp ]);\r\n                }\r\n                }\r\n        }\r\n        let price = this.state.amount;\r\n        let duplicates = 0;\r\n        if (this.props.cartProducts.length !== 0) {\r\n            for (let i = 0; i < this.props.cartProducts.length; i++){\r\n                if (product.id === this.props.cartProducts[i].id && JSON.stringify(this.props.cartProducts[i].selectedAttributes) === JSON.stringify(selectedAttributes)) {\r\n                    duplicates = 1;\r\n                    this.props.dispatch(changeProductQuantity(i));\r\n                break;\r\n            }}\r\n            \r\n        }\r\n        if (duplicates === 0) {\r\n            this.props.dispatch(addProductToCart({ ...product, selectedAttributes, productQuantity: 1, price }));\r\n        }\r\n    }\r\n    render() {\r\n        const { product, loading, error, amount, gallery,toggleImage, attributes } = this.state;\r\n        if (error) {\r\n            return <p>Something went wrong</p>;\r\n        }\r\n        if (loading) {\r\n            return <p>Loading ...</p>;\r\n        }\r\n        if (product !== null && amount !== null) {\r\n            return (                \r\n                <div className=\"product-container\">\r\n                    <div className=\"small-image-wrapper\">\r\n                        {gallery.map((img, index) => {\r\n                            return <div key={`container_${index}`} className=\"small-image-container\">\r\n                                <img className=\"small-image\" src={img} key={`img_${index}`} alt=\"prod\" onClick={() => { this.setState({ toggleImage: index })}} /> </div>                           \r\n                        })}\r\n                    </div> \r\n                    <div className=\"big-image-container\">\r\n                        <img className=\"big-image\" src={gallery[toggleImage]} alt=\"\" />\r\n                        {!product.inStock && <TextOutOfStock >Out of Stock</TextOutOfStock>}\r\n                    </div>\r\n                    <div className=\"content-block\">\r\n                        <p className=\"brand\">{product.brand}</p>\r\n                        <p className=\"name\">{product.name} </p>\r\n                        {attributes.map((obj, indexAttribute) => {\r\n                            let attributeNameIndex = obj.name;\r\n                            let temp = this.state[attributeNameIndex];\r\n                            console.log(temp)\r\n                            // this.setState({  [attributeNameIndex]: temp});\r\n                            //  this.setState({  [attributeNameIndex]: this.state[attributeNameIndex]});\r\n                            // if(this.state[attributeNameIndex] === undefined) {this.setState({ [attributeNameIndex]: 0})}\r\n                            // let temp = this.state[attributeNameIndex];\r\n                            temp === undefined ? this.setState({ [attributeNameIndex]: 0}) : this.setState({  [attributeNameIndex]: temp});\r\n                            \r\n                            if (obj.type !== \"swatch\") {\r\n                                return (\r\n                                    <div key={`swatch_ ${indexAttribute}`}>\r\n                                        <div key={`${indexAttribute}_${obj.name}`} className=\"attribute-name\">{obj.name}:</div>\r\n                                        <div key={`itemContainer_${indexAttribute}`} className=\"attribute-item-container\">\r\n                                            {obj.items.map((item, index) => {\r\n                                                \r\n                                                return (\r\n                                                    <div key={`${index}_attribute${item} `} className={this.state[attributeNameIndex] === index ? \"attribute-item-selected\" : \"attribute-item\"} \r\n                                                        onClick={() => { this.setState({ [attributeNameIndex]: index }) }}>\r\n                                                        <p key={`${index}*100`}>{item.value}</p></div>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            } else {\r\n                                return (\r\n                                <div key={indexAttribute}>\r\n                                        <div key={`${indexAttribute}_color`} className=\"attribute-name\">{obj.name}:</div>\r\n                                        <div key={`colorContainer_${indexAttribute}`}  className=\"attribute-color-container\">\r\n                                            {obj.items.map((item, index) => {   \r\n                                                return (\r\n                                                    <FilterColor key={`index color ${index}`} color={ item.value} selected={this.colorSelect(attributeNameIndex, index)} onClick={()=>{this.setState({ selectedColor: index})}} />\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })}                        \r\n                        <p className=\"attribute-name\">Price:</p>\r\n                        <p className=\"price\">{this.props.currency} {amount }</p>\r\n                        {product.inStock && (<button  className=\"button-style\" onClick={()=> this.addToCart(product) }>Add to cart</button>)}\r\n                        <div className=\"description\"><Interweave content={product.description} /></div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return \"Loading...\";\r\n        }\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n      currency: state.currency.currency, \r\n      cartProducts: state.cart.products,\r\n  }\r\n};\r\nexport default connect(mapStateToProps)(withParams(ProductPage));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"H:\\\\Svetik\\\\qa-testing\\\\Scandiweb\\\\volkotrub-shop-project\\\\src\\\\components\\\\productCard\\\\ProductCard.js\";\nimport { PureComponent } from \"react\";\nimport styled from \"styled-components\";\nimport icon from \"./button-icon-empty-cart.png\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { addProductToCart, changeProductQuantity } from \"../../store/cart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductCardStyle = styled.div`\n  flex: 1;\n  order: 0;\n  flex-grow: 0;\n  background: #FFFFFF;\n  padding: 16px;\n  width: 386px;\n  position: relative;\n  &:hover {\n  box-shadow: 0px 4px 35px rgba(168, 172, 176, 0.19);\n  }\n`;\n_c = ProductCardStyle;\nconst Text = styled.p`\n  position: absolute;\n  left: 25.42%;\n  right: 25.71%;\n  top: 150px;\n  display: block;\n  font-weight: 400;\n  font-size: 24px;\n  line-height: 160%;\n  color: #8D8F9A;\n`;\n_c2 = Text;\nconst Button = styled.button`\n  display:  none;\n  background: #5ECE7B;\n  width: 52px;\n  height: 52px;\n  border: none;\n  border-radius: 50%;\n  justify-content: center;\n  ${props => props.inStock ? ` opacity: 1 ` : `display: none !important; opacity: 0`} ;\n\n${ProductCardStyle}:hover & {\n  display: block;\n  position: absolute;\n  top: 320px;\n  left: 300px;\n  cursor: pointer;  \n}\n`;\n_c3 = Button;\nconst ImageContainer = styled.div`\n  width: 354px;\n  height: 330px;\n\n`;\n_c4 = ImageContainer;\nconst Image = styled.img`\n  max-height: 100%;\n  width: auto;\n  position: relative;\n  ${props => props.inStock ? `opacity: 1` : `opacity: 0.5`}\n`;\n_c5 = Image;\nconst Title = styled.p`\n  font-weight: 300;\n  font-size: 18px;\n  line-height: 160%;\n  text-align: left;\n  color: ${props => props.inStock ? `#1D1F22` : `#8D8F9A`} ;\n  margin: 24px 0 0 0;\n`;\n_c6 = Title;\nconst Price = styled.p`\n  margin: 0;\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 160%;\n  text-align: left;\n  color: ${props => props.inStock ? `#1D1F22` : `#8D8F9A`} ;\n`;\n_c7 = Price;\nconst StyledLink = styled(Link)`\n    position: \"absolute\";\n    inset: 0;\n`;\n_c8 = StyledLink;\n\nclass ProductCard extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: this.props.product,\n      inStock: this.props.product.inStock,\n      currency: this.props.currency,\n      amount: null\n    };\n    this.getPrice = this.getPrice.bind(this);\n    this.addToCart = this.addToCart.bind(this);\n  }\n\n  getPrice() {\n    this.state.product.prices.map(item => {\n      if (item.currency.symbol === this.state.currency) {\n        return this.setState({\n          amount: item.amount\n        });\n      } else {\n        return null;\n      }\n    });\n  }\n\n  componentDidUpdate(props, state) {\n    if (this.state.currency !== this.props.currency) {\n      this.setState({\n        currency: this.props.currency\n      });\n      this.getPrice();\n    }\n  }\n\n  addToCart(product) {\n    let price = this.state.amount;\n    const selectedAttributes = [];\n    const attributeNames = product.attributes.map(obj => {\n      return obj.name;\n    });\n\n    for (let i = 0; i < attributeNames.length; i++) {\n      selectedAttributes.push([attributeNames[i], 0]);\n    }\n\n    let duplicatesTemp = 0;\n\n    if (this.props.cartProducts.length !== 0) {\n      for (let i = 0; i < this.props.cartProducts.length; i++) {\n        if (product.id === this.props.cartProducts[i].id && JSON.stringify(this.props.cartProducts[i].selectedAttributes) === JSON.stringify(selectedAttributes)) {\n          duplicatesTemp = 1;\n          this.props.dispatch(changeProductQuantity(i));\n          break;\n        }\n      }\n    }\n\n    if (duplicatesTemp === 0) {\n      this.props.dispatch(addProductToCart({ ...product,\n        selectedAttributes,\n        productQuantity: 1,\n        price\n      }));\n    }\n  }\n\n  render() {\n    const {\n      product,\n      inStock,\n      amount\n    } = this.state;\n    this.getPrice();\n    return /*#__PURE__*/_jsxDEV(ProductCardStyle, {\n      children: [/*#__PURE__*/_jsxDEV(ImageContainer, {\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          inStock: inStock,\n          src: product.gallery[0],\n          alt: \" product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), !inStock && /*#__PURE__*/_jsxDEV(Text, {\n        children: \"OUT OF STOCK\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        inStock: inStock,\n        children: [product.brand, \" \", product.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Price, {\n        inStock: inStock,\n        children: [this.props.currency, \" \", amount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StyledLink, {\n        to: `${product.id}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        inStock: inStock,\n        onClick: () => this.addToCart(product),\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n          src: icon,\n          alt: \"icon\",\n          onClick: () => null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 84\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)]\n    }, product.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    currency: state.currency.currency,\n    cartProducts: state.cart.products\n  };\n}\n\n;\nexport default connect(mapStateToProps)(ProductCard);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"ProductCardStyle\");\n$RefreshReg$(_c2, \"Text\");\n$RefreshReg$(_c3, \"Button\");\n$RefreshReg$(_c4, \"ImageContainer\");\n$RefreshReg$(_c5, \"Image\");\n$RefreshReg$(_c6, \"Title\");\n$RefreshReg$(_c7, \"Price\");\n$RefreshReg$(_c8, \"StyledLink\");","map":{"version":3,"names":["PureComponent","styled","icon","Link","connect","addProductToCart","changeProductQuantity","ProductCardStyle","div","Text","p","Button","button","props","inStock","ImageContainer","Image","img","Title","Price","StyledLink","ProductCard","constructor","state","product","currency","amount","getPrice","bind","addToCart","prices","map","item","symbol","setState","componentDidUpdate","price","selectedAttributes","attributeNames","attributes","obj","name","i","length","push","duplicatesTemp","cartProducts","id","JSON","stringify","dispatch","productQuantity","render","gallery","brand","mapStateToProps","cart","products"],"sources":["H:/Svetik/qa-testing/Scandiweb/volkotrub-shop-project/src/components/productCard/ProductCard.js"],"sourcesContent":["import { PureComponent} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport icon from \"./button-icon-empty-cart.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { addProductToCart, changeProductQuantity } from \"../../store/cart\";\r\n\r\nconst ProductCardStyle = styled.div`\r\n  flex: 1;\r\n  order: 0;\r\n  flex-grow: 0;\r\n  background: #FFFFFF;\r\n  padding: 16px;\r\n  width: 386px;\r\n  position: relative;\r\n  &:hover {\r\n  box-shadow: 0px 4px 35px rgba(168, 172, 176, 0.19);\r\n  }\r\n`;\r\nconst Text = styled.p`\r\n  position: absolute;\r\n  left: 25.42%;\r\n  right: 25.71%;\r\n  top: 150px;\r\n  display: block;\r\n  font-weight: 400;\r\n  font-size: 24px;\r\n  line-height: 160%;\r\n  color: #8D8F9A;\r\n`;\r\nconst Button = styled.button`\r\n  display:  none;\r\n  background: #5ECE7B;\r\n  width: 52px;\r\n  height: 52px;\r\n  border: none;\r\n  border-radius: 50%;\r\n  justify-content: center;\r\n  ${props => props.inStock ? ` opacity: 1 `: `display: none !important; opacity: 0` } ;\r\n\r\n${ProductCardStyle}:hover & {\r\n  display: block;\r\n  position: absolute;\r\n  top: 320px;\r\n  left: 300px;\r\n  cursor: pointer;  \r\n}\r\n`;\r\nconst ImageContainer = styled.div`\r\n  width: 354px;\r\n  height: 330px;\r\n\r\n`;\r\nconst Image = styled.img`\r\n  max-height: 100%;\r\n  width: auto;\r\n  position: relative;\r\n  ${props => props.inStock ? `opacity: 1` : `opacity: 0.5`}\r\n`;\r\n\r\nconst Title = styled.p`\r\n  font-weight: 300;\r\n  font-size: 18px;\r\n  line-height: 160%;\r\n  text-align: left;\r\n  color: ${props => props.inStock? `#1D1F22` : `#8D8F9A` } ;\r\n  margin: 24px 0 0 0;\r\n`;\r\nconst Price = styled.p`\r\n  margin: 0;\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 160%;\r\n  text-align: left;\r\n  color: ${props => props.inStock? `#1D1F22` : `#8D8F9A` } ;\r\n`;\r\nconst StyledLink = styled(Link)`\r\n    position: \"absolute\";\r\n    inset: 0;\r\n`;\r\nclass ProductCard extends PureComponent{\r\nconstructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            product: this.props.product,\r\n            inStock: this.props.product.inStock,\r\n            currency: this.props.currency,\r\n            amount: null,\r\n      };\r\n  this.getPrice = this.getPrice.bind(this);\r\n  this.addToCart = this.addToCart.bind(this);\r\n    }\r\n    getPrice() {\r\n        this.state.product.prices.map((item) => {\r\n            if (item.currency.symbol === this.state.currency) {\r\n                return this.setState({ amount: item.amount });\r\n            } else { return null; }\r\n        })\r\n    }\r\n    \r\n    componentDidUpdate(props, state) {\r\n     if (this.state.currency !== this.props.currency) {\r\n       this.setState({ currency: this.props.currency });\r\n       this.getPrice();\r\n    }\r\n  }\r\n  addToCart(product) {\r\n    let price = this.state.amount;\r\n    const selectedAttributes = [];\r\n    const attributeNames = product.attributes.map((obj) => { return obj.name });\r\n    for (let i = 0; i < attributeNames.length; i++){\r\n      selectedAttributes.push([attributeNames[i], 0]);\r\n    }\r\n    let duplicatesTemp = 0;\r\n        if (this.props.cartProducts.length !== 0) {\r\n            for (let i = 0; i < this.props.cartProducts.length; i++){\r\n                if (product.id === this.props.cartProducts[i].id && JSON.stringify(this.props.cartProducts[i].selectedAttributes) === JSON.stringify(selectedAttributes)) {\r\n                    duplicatesTemp = 1;\r\n                    this.props.dispatch(changeProductQuantity(i));\r\n                break;\r\n            }}        \r\n    }\r\n    if (duplicatesTemp === 0)\r\n    {this.props.dispatch(addProductToCart({ ...product, selectedAttributes , productQuantity:1, price }));}\r\n    }\r\n    render() {\r\n        const { product, inStock,amount } = this.state;\r\n        this.getPrice();\r\n        return (\r\n            <ProductCardStyle key={product.id} >\r\n                <ImageContainer><Image inStock={inStock} src={product.gallery[0]} alt=\" product\" /></ImageContainer>\r\n                {!inStock && <Text >OUT OF STOCK</Text>}\r\n                <Title inStock={inStock}>{product.brand} {product.name}</Title>\r\n                <Price inStock={inStock}>{this.props.currency} {amount}</Price>\r\n                <StyledLink\r\n                  to={`${product.id}`} ></StyledLink>\r\n                <Button inStock={inStock} onClick={()=> this.addToCart(product) }> <img src={icon} alt=\"icon\" onClick={()=> null} /></Button>\r\n            </ProductCardStyle>\r\n        )\r\n    }\r\n  \r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    currency: state.currency.currency,\r\n    cartProducts: state.cart.products,\r\n  }\r\n};\r\nexport default connect(mapStateToProps)(ProductCard);"],"mappings":"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"},"metadata":{},"sourceType":"module"}
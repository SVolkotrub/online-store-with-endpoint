{"ast":null,"code":"var _jsxFileName = \"H:\\\\Svetik\\\\qa-testing\\\\Scandiweb\\\\volkotrub-shop-project\\\\src\\\\components\\\\Attributes.js\";\nimport { PureComponent } from \"react\";\nimport { addProductToCart } from \"../store/cart\";\nimport styled from \"styled-components\";\nimport \"../pages/ProductPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FilterColor = styled.div`\nwidth: 32px;\nheight: 32px;\ncursor: pointer;\nbackground-color: ${props => props.color};\n${props => props.selected ? `outline-offset: 1px; outline: 1px solid #5ECE7B` : `none`};\n`;\n_c = FilterColor;\n\nclass Attributes extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      attributes: this.props.attributes,\n      colorFlag: false,\n      selectedColor: 0\n    };\n    this.colorSelect = this.colorSelect.bind(this);\n    this.addToCart = this.addToCart.bind(this);\n  }\n\n  colorSelect(index) {\n    if (this.state.selectedColor === index) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  addToCart(product) {\n    const keysState = Object.entries(this.state);\n    const attributeNames = this.state.attributes.map(obj => {\n      return obj.name;\n    });\n    const arrayOfProductAttributeSelected = [];\n\n    for (let i = 0; i < attributeNames.length; i++) {\n      for (let j = 0; j < keysState.length; j++) {\n        if (attributeNames[i] === keysState[j][0]) {\n          const temp = this.state[attributeNames[i]];\n          arrayOfProductAttributeSelected.push({\n            [attributeNames[i]]: temp\n          });\n        }\n      }\n    }\n\n    const selectedProduct = {\n      product: product,\n      selectedAttributes: arrayOfProductAttributeSelected,\n      quantity: 1,\n      price: this.state.amount\n    };\n    this.props.dispatch(addProductToCart({\n      selectedProduct\n    }));\n  }\n\n  render() {\n    const {\n      attributes\n    } = this.state;\n    console.log(attributes);\n\n    function returnAttributes() {\n      this.state.attributes.map((obj, indexAttribute) => {\n        let attributeNameIndex = obj.name;\n        this.setState({\n          [attributeNameIndex]: this.state[attributeNameIndex]\n        });\n\n        if (this.state[attributeNameIndex] === undefined) {\n          this.setState({\n            [attributeNameIndex]: 0\n          });\n        }\n\n        if (obj.type !== \"swatch\") {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"attribute-name\",\n              children: [obj.name, \":\"]\n            }, indexAttribute, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"attribute-item-container\",\n              children: obj.items.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: this.state[attributeNameIndex] === index ? \"attribute-item-selected\" : \"attribute-item\",\n                  onClick: () => {\n                    this.setState({\n                      [attributeNameIndex]: index\n                    });\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: item.value\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 112\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 41\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true);\n        } else {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"attribute-name\",\n              children: [obj.name, \":\"]\n            }, indexAttribute, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"attribute-color-container\",\n              children: obj.items.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(FilterColor, {\n                  color: item.value,\n                  selected: this.colorSelect(index),\n                  onClick: () => {\n                    this.setState({\n                      selectedColor: index\n                    });\n                  }\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 41\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true);\n        }\n      });\n    }\n\n    return returnAttributes();\n  }\n\n}\n\nexport default Attributes;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterColor\");","map":{"version":3,"names":["PureComponent","addProductToCart","styled","FilterColor","div","props","color","selected","Attributes","constructor","state","attributes","colorFlag","selectedColor","colorSelect","bind","addToCart","index","product","keysState","Object","entries","attributeNames","map","obj","name","arrayOfProductAttributeSelected","i","length","j","temp","push","selectedProduct","selectedAttributes","quantity","price","amount","dispatch","render","console","log","returnAttributes","indexAttribute","attributeNameIndex","setState","undefined","type","items","item","value"],"sources":["H:/Svetik/qa-testing/Scandiweb/volkotrub-shop-project/src/components/Attributes.js"],"sourcesContent":["import { PureComponent } from \"react\";\r\nimport { addProductToCart } from \"../store/cart\";\r\nimport styled from \"styled-components\";\r\nimport \"../pages/ProductPage.css\";\r\n\r\nconst FilterColor = styled.div`\r\nwidth: 32px;\r\nheight: 32px;\r\ncursor: pointer;\r\nbackground-color: ${props => props.color};\r\n${props => props.selected ? `outline-offset: 1px; outline: 1px solid #5ECE7B` : `none`};\r\n`;\r\n\r\nclass Attributes extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            attributes: this.props.attributes,\r\n            colorFlag: false,\r\n            selectedColor: 0,\r\n        }\r\n        this.colorSelect = this.colorSelect.bind(this);\r\n        this.addToCart = this.addToCart.bind(this);\r\n    }\r\n\r\n    colorSelect(index) {\r\n        if (this.state.selectedColor === index) {\r\n            return true;\r\n        } else { return false; }\r\n    }\r\n    addToCart(product) {\r\n        const keysState = Object.entries(this.state);\r\n        const attributeNames = this.state.attributes.map((obj) => { return obj.name });\r\n        const arrayOfProductAttributeSelected = [];\r\n        for (let i = 0; i < attributeNames.length; i++) {\r\n            for (let j = 0; j < keysState.length; j++) {\r\n                if (attributeNames[i] === keysState[j][0]) {\r\n                    const temp = this.state[attributeNames[i]];\r\n                    arrayOfProductAttributeSelected.push({ [attributeNames[i]]: temp });\r\n                }\r\n            }\r\n        }\r\n        const selectedProduct = { product: product, selectedAttributes: arrayOfProductAttributeSelected, quantity: 1, price: this.state.amount }\r\n        this.props.dispatch(addProductToCart({ selectedProduct }));\r\n    }\r\n\r\n    render() {\r\n        const { attributes } = this.state;\r\n        console.log(attributes);\r\n        function returnAttributes()\r\n        {this.state.attributes.map((obj, indexAttribute) => {\r\n                let attributeNameIndex = obj.name;\r\n                this.setState({ [attributeNameIndex]: this.state[attributeNameIndex] });\r\n                if (this.state[attributeNameIndex] === undefined) { this.setState({ [attributeNameIndex]: 0 }) }\r\n                if (obj.type !== \"swatch\") {\r\n                    return (\r\n                        <>\r\n                            <p key={indexAttribute} className=\"attribute-name\">{obj.name}:</p>\r\n                            <div className=\"attribute-item-container\">\r\n                                {obj.items.map((item, index) => {\r\n                                                \r\n                                    return (\r\n                                        <div key={index} className={this.state[attributeNameIndex] === index ? \"attribute-item-selected\" : \"attribute-item\"}\r\n                                            onClick={() => { this.setState({ [attributeNameIndex]: index }) }}><p>{item.value}</p></div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </>\r\n                    );\r\n                } else {\r\n                    return (\r\n                        <>\r\n                            <p key={indexAttribute} className=\"attribute-name\">{obj.name}:</p>\r\n                            <div className=\"attribute-color-container\">\r\n                                {obj.items.map((item, index) => {\r\n                                    return (\r\n                                        <FilterColor key={index} color={item.value} selected={this.colorSelect(index)} onClick={() => { this.setState({ selectedColor: index }) }} />\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </>\r\n                    )\r\n                }\r\n        })}\r\n            \r\n        \r\n        return returnAttributes();\r\n    }\r\n}\r\nexport default Attributes;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
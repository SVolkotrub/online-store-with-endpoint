{"ast":null,"code":"import _classCallCheck from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{PureComponent}from\"react\";import{Link}from\"react-router-dom\";import{connect}from'react-redux';import{changeProductQuantity,decreaseProductQuantity,deleteProduct}from\"../store/cart\";import plus from\"../images/plus-square.png\";import minus from\"../images/minus-square.png\";import\"./MiniCart.css\";import ShowAttributesInCart from\"../other-components-and-functions/ShowAttributesInCart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MiniCart=/*#__PURE__*/function(_PureComponent){_inherits(MiniCart,_PureComponent);var _super=_createSuper(MiniCart);function MiniCart(props){var _this;_classCallCheck(this,MiniCart);_this=_super.call(this,props);_this.state={};_this.getCurrentPrice=_this.getCurrentPrice.bind(_assertThisInitialized(_this));_this.getTotalPrice=_this.getTotalPrice.bind(_assertThisInitialized(_this));_this.decreaseDeleteProduct=_this.decreaseDeleteProduct.bind(_assertThisInitialized(_this));return _this;}_createClass(MiniCart,[{key:\"getCurrentPrice\",value:function getCurrentPrice(props){var _this2=this;var currentProductPrice;props.map(function(item){if(item.currency.symbol===_this2.props.currency){currentProductPrice=item.amount;return currentProductPrice;}else{return null;}});return currentProductPrice;}},{key:\"getTotalPrice\",value:function getTotalPrice(){var _this3=this;var total=0;this.props.cartProducts.map(function(product,index){return total=product.prices.filter(function(el){return el.currency.symbol===_this3.props.currency;}).reduce(function(total,item){return total+item.amount*product.productQuantity;},total);});return total;}},{key:\"decreaseDeleteProduct\",value:function decreaseDeleteProduct(index){this.props.cartProducts[index].productQuantity>1?this.props.dispatch(decreaseProductQuantity(index)):this.props.dispatch(deleteProduct(index));}},{key:\"render\",value:function render(){var _this4=this;if(this.props.cartQuantity!==0){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"shop-cart\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"my-bag-block\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-bag\",children:\"My bag,  \"}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"bag-items\",children:\"  \".concat(this.props.cartQuantity,\" items\")})]}),this.props.cartProducts.map(function(product,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"mini-product-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"block-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"block-1-brand-name\",children:[product.brand,\" \",/*#__PURE__*/_jsx(\"br\",{},index),\" \",product.name]},\"minicart brname \".concat(index)),/*#__PURE__*/_jsxs(\"div\",{className:\"minicart-price\",children:[_this4.props.currency,_this4.getCurrentPrice(product.prices)]},\"minicart price \".concat(index)),/*#__PURE__*/_jsx(ShowAttributesInCart,{view:\"minicart\",product:product,productIndex:index},\"attr element\".concat(index))]},\"minicart b-l-1 \".concat(index)),/*#__PURE__*/_jsxs(\"div\",{className:\"block-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"minicart-btn-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"minicart-btn-image\",src:plus,alt:\"logo\",onClick:function onClick(){return _this4.props.dispatch(changeProductQuantity(index));}},\"minicart btn-pl \".concat(index)),/*#__PURE__*/_jsx(\"p\",{className:\"minicart-counter\",onClick:function onClick(){},children:product.productQuantity},\"minicart counter \".concat(index)),/*#__PURE__*/_jsx(\"img\",{className:\"minicart-btn-image\",src:minus,alt:\"logo\",onClick:function onClick(){_this4.decreaseDeleteProduct(index);}},\"minicart btn-m \".concat(index))]},\"minicart wr \".concat(index)),/*#__PURE__*/_jsx(\"div\",{className:\"minicart-img-container\",children:/*#__PURE__*/_jsx(\"img\",{src:product.gallery[0],className:\"minicart-image\",alt:\"logo\"},\"minicart img \".concat(index))})]},\"minicart bl-2 \".concat(index))]},\"minicart prod-bl\".concat(index));}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-block\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-left\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[this.props.currency,this.getTotalPrice().toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"minicart-buttons\",children:[/*#__PURE__*/_jsx(Link,{to:\"cart\",className:\"link-view-bag\",children:/*#__PURE__*/_jsx(\"p\",{children:\"view bag\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-checkout\",children:\"check out\"})]})]})});}else{return null;}}}]);return MiniCart;}(PureComponent);function mapStateToProps(state){return{currency:state.currency.currency,cartProducts:state.cart.products,cartQuantity:state.cart.quantity};}export default connect(mapStateToProps)(MiniCart);","map":{"version":3,"names":["PureComponent","Link","connect","changeProductQuantity","decreaseProductQuantity","deleteProduct","plus","minus","ShowAttributesInCart","MiniCart","props","state","getCurrentPrice","bind","getTotalPrice","decreaseDeleteProduct","currentProductPrice","map","item","currency","symbol","amount","total","cartProducts","product","index","prices","filter","el","reduce","productQuantity","dispatch","cartQuantity","brand","name","gallery","toFixed","mapStateToProps","cart","products","quantity"],"sources":["H:/Svetik/qa-testing/online-store-with-endpoint/online-store/src/components/MiniCart.js"],"sourcesContent":["import { PureComponent } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { changeProductQuantity, decreaseProductQuantity, deleteProduct } from \"../store/cart\";\r\nimport plus from \"../images/plus-square.png\";\r\nimport minus from \"../images/minus-square.png\";\r\nimport \"./MiniCart.css\";\r\nimport ShowAttributesInCart from \"../other-components-and-functions/ShowAttributesInCart\";\r\n\r\n\r\nclass MiniCart extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n        this.getCurrentPrice = this.getCurrentPrice.bind(this);\r\n        this.getTotalPrice = this.getTotalPrice.bind(this);\r\n        this.decreaseDeleteProduct = this.decreaseDeleteProduct.bind(this);\r\n    }\r\n    getCurrentPrice(props) { \r\n        let currentProductPrice;\r\n        props.map((item) => {\r\n            if (item.currency.symbol === this.props.currency) {\r\n                currentProductPrice = item.amount;\r\n                return currentProductPrice;\r\n            } else { return null; }\r\n        })\r\n        return currentProductPrice;\r\n    }\r\n    getTotalPrice() {\r\n        let total = 0;\r\n        this.props.cartProducts.map((product, index) => {\r\n            return total = product.prices.filter(el => el.currency.symbol === this.props.currency).reduce((total, item) => total + (item.amount * product.productQuantity), total)\r\n        });\r\n        return total;\r\n    }\r\n    decreaseDeleteProduct(index) {\r\n        this.props.cartProducts[index].productQuantity > 1 ? this.props.dispatch(decreaseProductQuantity(index)) : this.props.dispatch(deleteProduct(index));\r\n    }\r\n    render() {\r\n        if (this.props.cartQuantity !== 0) {\r\n            return (<>\r\n                <div className=\"shop-cart\">\r\n                    <div className=\"my-bag-block\">\r\n                        <p className=\"my-bag\">My bag,  </p> <div className=\"bag-items\">{`  ${this.props.cartQuantity} items`}</div>\r\n                    </div>\r\n                    {this.props.cartProducts.map((product, index) => {\r\n                        return (\r\n                    <div className=\"mini-product-block\" key={`minicart prod-bl${index}`}>\r\n                        <div className=\"block-1\" key={`minicart b-l-1 ${index}`}>\r\n                                    <div className=\"block-1-brand-name\" key={`minicart brname ${index}`}>{product.brand} <br key={index } /> {product.name}</div>\r\n                            <div className=\"minicart-price\"key={`minicart price ${index}`}>{ this.props.currency}{this.getCurrentPrice(product.prices)}</div>\r\n                        <ShowAttributesInCart view=\"minicart\" key={`attr element${index}`} product={ product} productIndex={index}/>  \r\n                        </div>\r\n                             \r\n                        <div className=\"block-2\" key={`minicart bl-2 ${index}`}>\r\n                            <div className=\"minicart-btn-wrapper\" key={`minicart wr ${index}`}>\r\n                                <img className=\"minicart-btn-image\" src={plus} alt=\"logo\" key={`minicart btn-pl ${index}`} onClick={()=>this.props.dispatch(changeProductQuantity(index))}/>\r\n                                <p className=\"minicart-counter\" onClick={() => { }}key={`minicart counter ${index}`}>{ product.productQuantity}</p>\r\n                                <img className=\"minicart-btn-image\" src={minus} alt=\"logo\" key={`minicart btn-m ${index}`} onClick={()=>{this.decreaseDeleteProduct(index)}}/>\r\n                            </div>\r\n                            <div className=\"minicart-img-container\"><img src={product.gallery[0]} className=\"minicart-image\" key={`minicart img ${index}`} alt=\"logo\"></img></div>\r\n                            \r\n                        </div>\r\n                    </div> \r\n                    )\r\n                    })}\r\n                    <div className=\"total-block\">\r\n                        <div className=\"text-left\">Total:</div>\r\n                        <div className=\"text-right\">{ this.props.currency}{ this.getTotalPrice().toFixed(2)}</div>\r\n                    </div>\r\n                    <div className=\"minicart-buttons\">\r\n                        <Link to=\"cart\" className=\"link-view-bag\"><p>view bag</p></Link>\r\n                        <button className=\"btn-checkout\">check out</button>\r\n                    </div>\r\n                    </div>\r\n                </>\r\n        \r\n            );\r\n        }else {return null}\r\n    } \r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currency: state.currency.currency,\r\n        cartProducts: state.cart.products,\r\n        cartQuantity: state.cart.quantity,\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(MiniCart);"],"mappings":"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"},"metadata":{},"sourceType":"module"}
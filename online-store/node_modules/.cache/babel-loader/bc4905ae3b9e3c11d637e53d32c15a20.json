{"ast":null,"code":"import _regeneratorRuntime from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"H:/Svetik/qa-testing/online-store-with-endpoint/online-store/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{PureComponent}from\"react\";import{connect}from'react-redux';import{updateCurrency,fetchCurrency}from\"../store/currency\";import\"../components/header/Header.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CurrencyList=/*#__PURE__*/function(_PureComponent){_inherits(CurrencyList,_PureComponent);var _super=_createSuper(CurrencyList);function CurrencyList(props){var _this;_classCallCheck(this,CurrencyList);_this=_super.call(this,props);_this.onSelectItem=function(index,item){_this.setState({activeItem:index,currency:item.symbol});_this.props.dispatch(updateCurrency({currency:item.symbol,activeItem:index,currencyOpen:false}));};_this.state={activeItem:_this.props.activeItem,currencies:null,currency:_this.props.currency,loading:false};return _this;}_createClass(CurrencyList,[{key:\"fetchData\",value:function(){var _fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.props.dispatch(fetchCurrency());case 2:response=_context.sent;return _context.abrupt(\"return\",this.setState({currencies:response.payload,loading:false}));case 4:case\"end\":return _context.stop();}}},_callee,this);}));function fetchData(){return _fetchData.apply(this,arguments);}return fetchData;}()},{key:\"componentDidMount\",value:function componentDidMount(){this.setState({loading:true});this.fetchData();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,currencies=_this$state.currencies,loading=_this$state.loading;if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading ...\"});}if(currencies!==null){return/*#__PURE__*/_jsx(\"div\",{children:currencies.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:_this2.state.activeItem===index?\"currency-selected\":\"currencies\",onClick:function onClick(){return _this2.onSelectItem(index,item);},children:[/*#__PURE__*/_jsxs(\"span\",{className:\"symbol-label\",children:[item.symbol,\" \",item.label]}),\"  \"]},index);})});}else{return\"Loading...\";}}}]);return CurrencyList;}(PureComponent);function mapStateToProps(state){return{currency:state.currency.currency,activeItem:state.currency.activeItem,currencies:state.currency.currencies};};export default connect(mapStateToProps)(CurrencyList);","map":{"version":3,"names":["PureComponent","connect","updateCurrency","fetchCurrency","CurrencyList","props","onSelectItem","index","item","setState","activeItem","currency","symbol","dispatch","currencyOpen","state","currencies","loading","response","payload","fetchData","map","label","mapStateToProps"],"sources":["H:/Svetik/qa-testing/online-store-with-endpoint/online-store/src/other-components-and-functions/CurrencyList.js"],"sourcesContent":["import { PureComponent } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { updateCurrency, fetchCurrency } from \"../store/currency\";\r\nimport \"../components/header/Header.css\";\r\n\r\nclass CurrencyList extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeItem: this.props.activeItem,\r\n            currencies: null,\r\n            currency: this.props.currency,\r\n            loading: false,\r\n        }\r\n    }\r\n    async fetchData() {\r\n        let response = await this.props.dispatch(fetchCurrency());\r\n        return this.setState({ currencies: response.payload, loading: false });\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.setState({ loading: true });\r\n        this.fetchData();        \r\n    }\r\n    onSelectItem = (index, item) => {\r\n        this.setState({ activeItem: index, currency: item.symbol });\r\n        this.props.dispatch(updateCurrency({currency: item.symbol, activeItem: index, currencyOpen: false}));\r\n    };\r\n    render() {\r\n        const { currencies, loading } = this.state;\r\n         if (loading) {\r\n      return <p>Loading ...</p>;\r\n    }\r\n        if (currencies !== null) {\r\n            return (\r\n                <div >\r\n                    {currencies.map((item, index) => (\r\n                        <div className={this.state.activeItem === index ? \"currency-selected\" : \"currencies\"}\r\n                            onClick={() => this.onSelectItem(index, item)}\r\n                            key={index}><span className=\"symbol-label\">{item.symbol} {item.label}</span>  </div>))}\r\n                \r\n            </div>\r\n        )\r\n        } else { return \"Loading...\" }\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currency: state.currency.currency,\r\n        activeItem: state.currency.activeItem,\r\n        currencies: state.currency.currencies,\r\n    }\r\n};\r\nexport default connect(mapStateToProps)(CurrencyList);"],"mappings":"42BAAA,OAASA,aAAT,KAA8B,OAA9B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,cAAT,CAAyBC,aAAzB,KAA8C,mBAA9C,CACA,MAAO,iCAAP,C,2FAEMC,a,oHACF,sBAAYC,KAAZ,CAAmB,8CACf,uBAAMA,KAAN,EADe,MAkBnBC,YAlBmB,CAkBJ,SAACC,KAAD,CAAQC,IAAR,CAAiB,CAC5B,MAAKC,QAAL,CAAc,CAAEC,UAAU,CAAEH,KAAd,CAAqBI,QAAQ,CAAEH,IAAI,CAACI,MAApC,CAAd,EACA,MAAKP,KAAL,CAAWQ,QAAX,CAAoBX,cAAc,CAAC,CAACS,QAAQ,CAAEH,IAAI,CAACI,MAAhB,CAAwBF,UAAU,CAAEH,KAApC,CAA2CO,YAAY,CAAE,KAAzD,CAAD,CAAlC,EACH,CArBkB,CAEf,MAAKC,KAAL,CAAa,CACTL,UAAU,CAAE,MAAKL,KAAL,CAAWK,UADd,CAETM,UAAU,CAAE,IAFH,CAGTL,QAAQ,CAAE,MAAKN,KAAL,CAAWM,QAHZ,CAITM,OAAO,CAAE,KAJA,CAAb,CAFe,aAQlB,C,sIACD,wKACyB,MAAKZ,KAAL,CAAWQ,QAAX,CAAoBV,aAAa,EAAjC,CADzB,QACQe,QADR,+CAEW,KAAKT,QAAL,CAAc,CAAEO,UAAU,CAAEE,QAAQ,CAACC,OAAvB,CAAgCF,OAAO,CAAE,KAAzC,CAAd,CAFX,6D,sHAKA,4BAAoB,CAChB,KAAKR,QAAL,CAAc,CAAEQ,OAAO,CAAE,IAAX,CAAd,EACA,KAAKG,SAAL,GACH,C,sBAKD,iBAAS,iBACL,gBAAgC,KAAKL,KAArC,CAAQC,UAAR,aAAQA,UAAR,CAAoBC,OAApB,aAAoBA,OAApB,CACC,GAAIA,OAAJ,CAAa,CAChB,mBAAO,kCAAP,CACD,CACG,GAAID,UAAU,GAAK,IAAnB,CAAyB,CACrB,mBACI,qBACKA,UAAU,CAACK,GAAX,CAAe,SAACb,IAAD,CAAOD,KAAP,qBACZ,aAAK,SAAS,CAAE,MAAI,CAACQ,KAAL,CAAWL,UAAX,GAA0BH,KAA1B,CAAkC,mBAAlC,CAAwD,YAAxE,CACI,OAAO,CAAE,yBAAM,OAAI,CAACD,YAAL,CAAkBC,KAAlB,CAAyBC,IAAzB,CAAN,EADb,wBAEgB,cAAM,SAAS,CAAC,cAAhB,WAAgCA,IAAI,CAACI,MAArC,KAA8CJ,IAAI,CAACc,KAAnD,GAFhB,QAESf,KAFT,CADY,EAAf,CADL,EADJ,CASH,CAVD,IAUO,CAAE,MAAO,YAAP,CAAqB,CACjC,C,0BAvCsBP,a,EAyC3B,QAASuB,gBAAT,CAAyBR,KAAzB,CAAgC,CAC5B,MAAO,CACHJ,QAAQ,CAAEI,KAAK,CAACJ,QAAN,CAAeA,QADtB,CAEHD,UAAU,CAAEK,KAAK,CAACJ,QAAN,CAAeD,UAFxB,CAGHM,UAAU,CAAED,KAAK,CAACJ,QAAN,CAAeK,UAHxB,CAAP,CAKH,EACD,cAAef,QAAO,CAACsB,eAAD,CAAP,CAAyBnB,YAAzB,CAAf"},"metadata":{},"sourceType":"module"}
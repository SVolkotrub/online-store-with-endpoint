{"ast":null,"code":"var _jsxFileName = \"H:\\\\Svetik\\\\qa-testing\\\\Scandiweb\\\\volkotrub-shop-project\\\\src\\\\other-components-and-functions\\\\CurrencyList.js\";\nimport { PureComponent } from \"react\";\nimport { connect } from 'react-redux';\nimport { updateCurrency, fetchCurrency } from \"../store/currency\";\nimport \"../components/header/Header.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CurrencyList extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.onSelectItem = (index, item) => {\n      this.setState({\n        activeItem: index,\n        currency: item.symbol\n      });\n      this.props.dispatch(updateCurrency({\n        currency: item.symbol,\n        activeItem: index,\n        currencyOpen: false\n      }));\n    };\n\n    this.state = {\n      activeItem: 0,\n      currencies: null,\n      currency: this.props.currency,\n      loading: false\n    };\n  }\n\n  async fetchData() {\n    let response = await this.props.dispatch(fetchCurrency());\n    return this.setState({\n      currencies: response.payload,\n      loading: false\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    this.fetchData();\n  }\n\n  render() {\n    const {\n      currencies,\n      loading\n    } = this.state;\n\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading ...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (currencies !== null) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: currencies.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: this.state.activeItem === index ? \"currency-selected\" : \"currencies\",\n          onClick: () => this.onSelectItem(index, item),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"symbol-label\",\n            children: [item.symbol, \" \", item.label]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 41\n          }, this), \"  \"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this);\n    } else {\n      return \"Loading...\";\n    }\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    currency: state.currency.currency,\n    currencies: state.currency.currencies\n  };\n}\n\n;\nexport default connect(mapStateToProps)(CurrencyList);","map":{"version":3,"names":["PureComponent","connect","updateCurrency","fetchCurrency","CurrencyList","constructor","props","onSelectItem","index","item","setState","activeItem","currency","symbol","dispatch","currencyOpen","state","currencies","loading","fetchData","response","payload","componentDidMount","render","map","label","mapStateToProps"],"sources":["H:/Svetik/qa-testing/Scandiweb/volkotrub-shop-project/src/other-components-and-functions/CurrencyList.js"],"sourcesContent":["import { PureComponent } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { updateCurrency, fetchCurrency } from \"../store/currency\";\r\nimport \"../components/header/Header.css\";\r\n\r\nclass CurrencyList extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeItem: 0,\r\n            currencies: null,\r\n            currency: this.props.currency,\r\n            loading: false,\r\n        }\r\n    }\r\n    async fetchData() {\r\n        let response = await this.props.dispatch(fetchCurrency());\r\n        return this.setState({ currencies: response.payload, loading: false });\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.setState({ loading: true });\r\n        this.fetchData();        \r\n    }\r\n    onSelectItem = (index, item) => {\r\n        this.setState({ activeItem: index, currency: item.symbol });\r\n        this.props.dispatch(updateCurrency({currency: item.symbol, activeItem: index, currencyOpen: false}));\r\n    };\r\n    render() {\r\n        const { currencies, loading } = this.state;\r\n         if (loading) {\r\n      return <p>Loading ...</p>;\r\n    }\r\n        if (currencies !== null) {\r\n            return (\r\n                <div >\r\n                    {currencies.map((item, index) => (\r\n                        <div className={this.state.activeItem === index ? \"currency-selected\" : \"currencies\"}\r\n                            onClick={() => this.onSelectItem(index, item)}\r\n                            key={index}><span className=\"symbol-label\">{item.symbol} {item.label}</span>  </div>))}\r\n                \r\n            </div>\r\n        )\r\n        } else { return \"Loading...\" }\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currency: state.currency.currency,\r\n        currencies: state.currency.currencies,\r\n    }\r\n};\r\nexport default connect(mapStateToProps)(CurrencyList);"],"mappings":";AAAA,SAASA,aAAT,QAA8B,OAA9B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,mBAA9C;AACA,OAAO,iCAAP;;;AAEA,MAAMC,YAAN,SAA2BJ,aAA3B,CAAyC;EACrCK,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;;IADe,KAkBnBC,YAlBmB,GAkBJ,CAACC,KAAD,EAAQC,IAAR,KAAiB;MAC5B,KAAKC,QAAL,CAAc;QAAEC,UAAU,EAAEH,KAAd;QAAqBI,QAAQ,EAAEH,IAAI,CAACI;MAApC,CAAd;MACA,KAAKP,KAAL,CAAWQ,QAAX,CAAoBZ,cAAc,CAAC;QAACU,QAAQ,EAAEH,IAAI,CAACI,MAAhB;QAAwBF,UAAU,EAAEH,KAApC;QAA2CO,YAAY,EAAE;MAAzD,CAAD,CAAlC;IACH,CArBkB;;IAEf,KAAKC,KAAL,GAAa;MACTL,UAAU,EAAE,CADH;MAETM,UAAU,EAAE,IAFH;MAGTL,QAAQ,EAAE,KAAKN,KAAL,CAAWM,QAHZ;MAITM,OAAO,EAAE;IAJA,CAAb;EAMH;;EACc,MAATC,SAAS,GAAG;IACd,IAAIC,QAAQ,GAAG,MAAM,KAAKd,KAAL,CAAWQ,QAAX,CAAoBX,aAAa,EAAjC,CAArB;IACA,OAAO,KAAKO,QAAL,CAAc;MAAEO,UAAU,EAAEG,QAAQ,CAACC,OAAvB;MAAgCH,OAAO,EAAE;IAAzC,CAAd,CAAP;EAEH;;EACDI,iBAAiB,GAAG;IAChB,KAAKZ,QAAL,CAAc;MAAEQ,OAAO,EAAE;IAAX,CAAd;IACA,KAAKC,SAAL;EACH;;EAKDI,MAAM,GAAG;IACL,MAAM;MAAEN,UAAF;MAAcC;IAAd,IAA0B,KAAKF,KAArC;;IACC,IAAIE,OAAJ,EAAa;MAChB,oBAAO;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAP;IACD;;IACG,IAAID,UAAU,KAAK,IAAnB,EAAyB;MACrB,oBACI;QAAA,UACKA,UAAU,CAACO,GAAX,CAAe,CAACf,IAAD,EAAOD,KAAP,kBACZ;UAAK,SAAS,EAAE,KAAKQ,KAAL,CAAWL,UAAX,KAA0BH,KAA1B,GAAkC,mBAAlC,GAAwD,YAAxE;UACI,OAAO,EAAE,MAAM,KAAKD,YAAL,CAAkBC,KAAlB,EAAyBC,IAAzB,CADnB;UAAA,wBAEgB;YAAM,SAAS,EAAC,cAAhB;YAAA,WAAgCA,IAAI,CAACI,MAArC,OAA8CJ,IAAI,CAACgB,KAAnD;UAAA;YAAA;YAAA;YAAA;UAAA,QAFhB;QAAA,GAESjB,KAFT;UAAA;UAAA;UAAA;QAAA,QADH;MADL;QAAA;QAAA;QAAA;MAAA,QADJ;IASH,CAVD,MAUO;MAAE,OAAO,YAAP;IAAqB;EACjC;;AAvCoC;;AAyCzC,SAASkB,eAAT,CAAyBV,KAAzB,EAAgC;EAC5B,OAAO;IACHJ,QAAQ,EAAEI,KAAK,CAACJ,QAAN,CAAeA,QADtB;IAEHK,UAAU,EAAED,KAAK,CAACJ,QAAN,CAAeK;EAFxB,CAAP;AAIH;;AAAA;AACD,eAAehB,OAAO,CAACyB,eAAD,CAAP,CAAyBtB,YAAzB,CAAf"},"metadata":{},"sourceType":"module"}